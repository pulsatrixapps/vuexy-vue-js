import{k as i,o as D,b as K,w as l,m as a,p as e,y as O,q as o,P as Z,D as d,b9 as ee,E as z,ar as G,aq as R,B as le,c as L,F as H,a as Q,H as te,I as ae,x as p,r as oe,s as se}from"./index.7003a675.js";import{r as w,e as re}from"./validators.741d8b3f.js";import{V as W}from"./VSpacer.3bb50a1f.js";import{V as y}from"./VBtn.1b7ea0a0.js";import{V as M,c as T}from"./VCard.b13dfab6.js";import{V as ne}from"./VForm.27499219.js";import{V as q,a as m}from"./VRow.926379bb.js";import{V as C}from"./VTextField.23f41dc1.js";import{V as P}from"./VSelect.bd9e7f4f.js";import{V as ie}from"./VNavigationDrawer.d4fc6887.js";import{u as ue}from"./useUserListStore.b705f7ea.js";import{a as de}from"./formatters.1ccc6423.js";import{V as F}from"./VDivider.7b88aa56.js";import{V as ce}from"./VTable.09002ca3.js";import{V as me}from"./VPagination.352216b3.js";import{V as $}from"./VAvatar.b2b787bf.js";import{V as pe}from"./VImg.25cd9a63.js";import{V as ve}from"./VChip.9a57c511.js";import{V as fe}from"./VMenu.50395753.js";import{V as Ve,a as J}from"./VList.c60191aa.js";import"./index.0d4b9ec4.js";import"./router.86bbf027.js";import"./position.9e9897c5.js";import"./VInput.d15c66f3.js";import"./index.ab1526b4.js";import"./forwardRefs.c003b6b8.js";/* empty css                   */import"./VField.ddbe5abc.js";import"./easing.36b781ab.js";import"./VCounter.3975aeb3.js";import"./VCheckboxBtn.d7fdeb9d.js";import"./VSelectionControl.e7dcbd2d.js";import"./ssrBoot.8e15fb51.js";import"./scopeId.e384f3cb.js";import"./VOverlay.cefc0bde.js";import"./lazy.4f347889.js";const be={class:"d-flex align-center pa-6 pb-1"},_e=a("h6",{class:"text-h6"}," Add User ",-1),xe={__name:"AddNewUserDrawer",props:{isDrawerOpen:{type:Boolean,required:!0}},emits:["update:isDrawerOpen","userData"],setup(j,{emit:h}){const k=j,g=i(!1),v=i(),x=i(""),f=i(""),c=i(""),V=i(""),U=i(""),b=i(),S=i(),N=i(),E=()=>{h("update:isDrawerOpen",!1),G(()=>{var _,s;(_=v.value)==null||_.reset(),(s=v.value)==null||s.resetValidation()})},B=()=>{var _;(_=v.value)==null||_.validate().then(({valid:s})=>{s&&(h("userData",{id:0,fullName:x.value,company:c.value,role:b.value,country:V.value,contact:U.value,email:f.value,currentPlan:S.value,status:N.value,avatar:"",billing:"Auto Debit"}),h("update:isDrawerOpen",!1),G(()=>{var r,I;(r=v.value)==null||r.reset(),(I=v.value)==null||I.resetValidation()}))})},A=_=>{h("update:isDrawerOpen",_)};return(_,s)=>(D(),K(ie,{temporary:"",width:400,location:"end",class:"scrollable-content","model-value":k.isDrawerOpen,"onUpdate:modelValue":A},{default:l(()=>[a("div",be,[_e,e(W),e(y,{variant:"tonal",color:"default",icon:"",size:"32",class:"rounded",onClick:E},{default:l(()=>[e(O,{size:"18",icon:"tabler-x"})]),_:1})]),e(o(Z),{options:{wheelPropagation:!1}},{default:l(()=>[e(M,{flat:""},{default:l(()=>[e(T,null,{default:l(()=>[e(ne,{ref_key:"refForm",ref:v,modelValue:o(g),"onUpdate:modelValue":s[8]||(s[8]=r=>d(g)?g.value=r:null),onSubmit:ee(B,["prevent"])},{default:l(()=>[e(q,null,{default:l(()=>[e(m,{cols:"12"},{default:l(()=>[e(C,{modelValue:o(x),"onUpdate:modelValue":s[0]||(s[0]=r=>d(x)?x.value=r:null),rules:[o(w)],label:"Full Name"},null,8,["modelValue","rules"])]),_:1}),e(m,{cols:"12"},{default:l(()=>[e(C,{modelValue:o(f),"onUpdate:modelValue":s[1]||(s[1]=r=>d(f)?f.value=r:null),rules:[o(w),o(re)],label:"Email"},null,8,["modelValue","rules"])]),_:1}),e(m,{cols:"12"},{default:l(()=>[e(C,{modelValue:o(c),"onUpdate:modelValue":s[2]||(s[2]=r=>d(c)?c.value=r:null),rules:[o(w)],label:"Company"},null,8,["modelValue","rules"])]),_:1}),e(m,{cols:"12"},{default:l(()=>[e(C,{modelValue:o(V),"onUpdate:modelValue":s[3]||(s[3]=r=>d(V)?V.value=r:null),rules:[o(w)],label:"Country"},null,8,["modelValue","rules"])]),_:1}),e(m,{cols:"12"},{default:l(()=>[e(C,{modelValue:o(U),"onUpdate:modelValue":s[4]||(s[4]=r=>d(U)?U.value=r:null),type:"number",rules:[o(w)],label:"Contact"},null,8,["modelValue","rules"])]),_:1}),e(m,{cols:"12"},{default:l(()=>[e(P,{modelValue:o(b),"onUpdate:modelValue":s[5]||(s[5]=r=>d(b)?b.value=r:null),label:"Select Role",rules:[o(w)],items:["Admin","Author","Editor","Maintainer","Subscriber"]},null,8,["modelValue","rules"])]),_:1}),e(m,{cols:"12"},{default:l(()=>[e(P,{modelValue:o(S),"onUpdate:modelValue":s[6]||(s[6]=r=>d(S)?S.value=r:null),label:"Select Plan",rules:[o(w)],items:["Basic","Company","Enterprise","Team"]},null,8,["modelValue","rules"])]),_:1}),e(m,{cols:"12"},{default:l(()=>[e(P,{modelValue:o(N),"onUpdate:modelValue":s[7]||(s[7]=r=>d(N)?N.value=r:null),label:"Select Status",rules:[o(w)],items:[{title:"Active",value:"active"},{title:"Inactive",value:"inactive"},{title:"Pending",value:"pending"}]},null,8,["modelValue","rules"])]),_:1}),e(m,{cols:"12"},{default:l(()=>[e(y,{type:"submit",class:"me-3"},{default:l(()=>[z(" Submit ")]),_:1}),e(y,{type:"reset",variant:"tonal",color:"secondary",onClick:E},{default:l(()=>[z(" Cancel ")]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue","onSubmit"])]),_:1})]),_:1})]),_:1})]),_:1},8,["model-value"]))}};const ge={class:"d-flex align-center gap-2 my-1"},we={class:"text-h6"},ye={class:"me-3",style:{width:"80px"}},he={class:"app-user-search-filter d-flex align-center flex-wrap gap-4"},Ue={style:{width:"10rem"}},Se=a("thead",null,[a("tr",null,[a("th",{scope:"col"}," USER "),a("th",{scope:"col"}," ROLE "),a("th",{scope:"col"}," PLAN "),a("th",{scope:"col"}," BILLING "),a("th",{scope:"col"}," STATUS "),a("th",{scope:"col"}," ACTIONS ")])],-1),De={class:"d-flex align-center"},Pe={key:1},ke={class:"d-flex flex-column"},Ne={class:"text-base"},Ce={class:"text-sm text-disabled"},ze={class:"text-capitalize text-base"},Ae={class:"text-capitalize text-base font-weight-semibold"},Le={class:"text-base"},Te={class:"text-center",style:{width:"5rem"}},Ee=a("tr",null,[a("td",{colspan:"7",class:"text-center"}," No data available ")],-1),Ie=[Ee],Oe={class:"text-sm text-disabled"},gl={__name:"index",setup(j){const h=ue(),k=i(""),g=i(),v=i(),x=i(),f=i(10),c=i(1),V=i(1),U=i(0),b=i([]),S=()=>{h.fetchUsers({q:k.value,status:x.value,plan:v.value,role:g.value,perPage:f.value,currentPage:c.value}).then(n=>{b.value=n.data.users,V.value=n.data.totalPage,U.value=n.data.totalUsers}).catch(n=>{console.error(n)})};R(S),R(()=>{c.value>V.value&&(c.value=V.value)});const N=[{title:"Admin",value:"admin"},{title:"Author",value:"author"},{title:"Editor",value:"editor"},{title:"Maintainer",value:"maintainer"},{title:"Subscriber",value:"subscriber"}],E=[{title:"Basic",value:"basic"},{title:"Company",value:"company"},{title:"Enterprise",value:"enterprise"},{title:"Team",value:"team"}],B=[{title:"Pending",value:"pending"},{title:"Active",value:"active"},{title:"Inactive",value:"inactive"}],A=n=>n==="subscriber"?{color:"warning",icon:"tabler-user"}:n==="author"?{color:"success",icon:"tabler-circle-check"}:n==="maintainer"?{color:"primary",icon:"tabler-chart-pie-2"}:n==="editor"?{color:"info",icon:"tabler-pencil"}:n==="admin"?{color:"secondary",icon:"tabler-device-laptop"}:{color:"primary",icon:"tabler-user"},_=n=>n==="pending"?"warning":n==="active"?"success":n==="inactive"?"secondary":"primary",s=i(!1);R(()=>{c.value>V.value&&(c.value=V.value)});const r=le(()=>{const n=b.value.length?(c.value-1)*f.value+1:0,u=b.value.length+(c.value-1)*f.value;return`Showing ${n} to ${u} of ${U.value} entries`}),I=n=>{h.addUser(n),S()},X=[{icon:"tabler-user",color:"primary",title:"Session",stats:"21,459",percentage:29,subtitle:"Total Users"},{icon:"tabler-user-plus",color:"error",title:"Paid Users",stats:"4,567",percentage:18,subtitle:"Last week analytics"},{icon:"tabler-user-check",color:"success",title:"Active Users",stats:"19,860",percentage:-14,subtitle:"Last week analytics"},{icon:"tabler-user-exclamation",color:"warning",title:"Pending Users",stats:"237",percentage:42,subtitle:"Last week analytics"}];return(n,u)=>{const Y=oe("RouterLink");return D(),L("section",null,[e(q,null,{default:l(()=>[(D(),L(H,null,Q(X,t=>e(m,{key:t.title,cols:"12",sm:"6",lg:"3"},{default:l(()=>[e(M,null,{default:l(()=>[e(T,{class:"d-flex justify-space-between"},{default:l(()=>[a("div",null,[a("span",null,p(t.title),1),a("div",ge,[a("h6",we,p(t.stats),1),a("span",{class:se(t.percentage>0?"text-success":"text-error")},"("+p(t.percentage)+"%)",3)]),a("span",null,p(t.subtitle),1)]),e($,{rounded:"",variant:"tonal",color:t.color,icon:t.icon},null,8,["color","icon"])]),_:2},1024)]),_:2},1024)]),_:2},1024)),64)),e(m,{cols:"12"},{default:l(()=>[e(M,{title:"Search Filter"},{default:l(()=>[e(T,null,{default:l(()=>[e(q,null,{default:l(()=>[e(m,{cols:"12",sm:"4"},{default:l(()=>[e(P,{modelValue:o(g),"onUpdate:modelValue":u[0]||(u[0]=t=>d(g)?g.value=t:null),label:"Select Role",items:N,clearable:"","clear-icon":"tabler-x"},null,8,["modelValue"])]),_:1}),e(m,{cols:"12",sm:"4"},{default:l(()=>[e(P,{modelValue:o(v),"onUpdate:modelValue":u[1]||(u[1]=t=>d(v)?v.value=t:null),label:"Select Plan",items:E,clearable:"","clear-icon":"tabler-x"},null,8,["modelValue"])]),_:1}),e(m,{cols:"12",sm:"4"},{default:l(()=>[e(P,{modelValue:o(x),"onUpdate:modelValue":u[2]||(u[2]=t=>d(x)?x.value=t:null),label:"Select Status",items:B,clearable:"","clear-icon":"tabler-x"},null,8,["modelValue"])]),_:1})]),_:1})]),_:1}),e(F),e(T,{class:"d-flex flex-wrap py-4 gap-4"},{default:l(()=>[a("div",ye,[e(P,{modelValue:o(f),"onUpdate:modelValue":u[3]||(u[3]=t=>d(f)?f.value=t:null),density:"compact",variant:"outlined",items:[10,20,30,50]},null,8,["modelValue"])]),e(W),a("div",he,[a("div",Ue,[e(C,{modelValue:o(k),"onUpdate:modelValue":u[4]||(u[4]=t=>d(k)?k.value=t:null),placeholder:"Search",density:"compact"},null,8,["modelValue"])]),e(y,{variant:"tonal",color:"secondary","prepend-icon":"tabler-screen-share"},{default:l(()=>[z(" Export ")]),_:1}),e(y,{"prepend-icon":"tabler-plus",onClick:u[5]||(u[5]=t=>s.value=!0)},{default:l(()=>[z(" Add New User ")]),_:1})])]),_:1}),e(F),e(ce,{class:"text-no-wrap"},{default:l(()=>[Se,a("tbody",null,[(D(!0),L(H,null,Q(o(b),t=>(D(),L("tr",{key:t.id,style:{height:"3.75rem"}},[a("td",null,[a("div",De,[e($,{variant:"tonal",color:A(t.role).color,class:"me-3",size:"38"},{default:l(()=>[t.avatar?(D(),K(pe,{key:0,src:t.avatar},null,8,["src"])):(D(),L("span",Pe,p(o(de)(t.fullName)),1))]),_:2},1032,["color"]),a("div",ke,[a("h6",Ne,[e(Y,{to:{name:"apps-user-view-id",params:{id:t.id}},class:"font-weight-medium user-list-name"},{default:l(()=>[z(p(t.fullName),1)]),_:2},1032,["to"])]),a("span",Ce,"@"+p(t.email),1)])])]),a("td",null,[e($,{color:A(t.role).color,icon:A(t.role).icon,variant:"tonal",size:"30",class:"me-4"},null,8,["color","icon"]),a("span",ze,p(t.role),1)]),a("td",null,[a("span",Ae,p(t.currentPlan),1)]),a("td",null,[a("span",Le,p(t.billing),1)]),a("td",null,[e(ve,{label:"",color:_(t.status),size:"small",class:"text-capitalize"},{default:l(()=>[z(p(t.status),1)]),_:2},1032,["color"])]),a("td",Te,[e(y,{icon:"",size:"x-small",color:"default",variant:"text"},{default:l(()=>[e(O,{size:"22",icon:"tabler-edit"})]),_:1}),e(y,{icon:"",size:"x-small",color:"default",variant:"text"},{default:l(()=>[e(O,{size:"22",icon:"tabler-trash"})]),_:1}),e(y,{icon:"",size:"x-small",color:"default",variant:"text"},{default:l(()=>[e(O,{size:"22",icon:"tabler-dots-vertical"}),e(fe,{activator:"parent"},{default:l(()=>[e(Ve,null,{default:l(()=>[e(J,{title:"View",to:{name:"apps-user-view-id",params:{id:t.id}}},null,8,["to"]),e(J,{title:"Suspend",href:"javascript:void(0)"})]),_:2},1024)]),_:2},1024)]),_:2},1024)])]))),128))]),te(a("tfoot",null,Ie,512),[[ae,!o(b).length]])]),_:1}),e(F),e(T,{class:"d-flex align-center flex-wrap justify-space-between gap-4 py-3 px-5"},{default:l(()=>[a("span",Oe,p(o(r)),1),e(me,{modelValue:o(c),"onUpdate:modelValue":u[6]||(u[6]=t=>d(c)?c.value=t:null),size:"small","total-visible":5,length:o(V)},null,8,["modelValue","length"])]),_:1})]),_:1})]),_:1})]),_:1}),e(xe,{isDrawerOpen:o(s),"onUpdate:isDrawerOpen":u[7]||(u[7]=t=>d(s)?s.value=t:null),onUserData:I},null,8,["isDrawerOpen"])])}}};export{gl as default};
